
console.show();
var rd = "jbg" + device.getAndroidId();
var storage = storages.create(rd);
var a = storage.get("rd");
var b = storage.get("ird");
if(!a){exit()};
if (a != b){exit()};

while (!text("发现").exists()) {
    console.error("请打开App首页");
    sleep(2500);
}
log("脚本哥专业版，Q群：16768994");
text("发现").findOnce().click();
while (true) {
    sleep(5000);
    var r = random(50, 150);
    swipe(device.width / 2 - r, device.height * 0.8 + r, device.width / 2 + r, device.height * 0.4 - r, 200 + r)
    var n = 15;
    while (n > 0) {
        var r = random(50, 150);
        var t = random(12,15);
        while (t > 5) {
            console.log("正在挂机视频，还有" + t + "秒");
            sleep(5000);
            t = t - 5;
        }
sleep(t*1000);
        console.info("正在切换视频，脚本哥专业版为您服务");
        swipe(device.width / 2 - r, device.height * 0.8 + r, device.width / 2 + r, device.height * 0.4 - r, 200 + r);
        n--;
    }
    console.info("正在切换列表，等待视频红包刷新");
    var r=random(0,100);
    id("ftb_mine").findOne().click();
    sleep(1500);
    swipe(device.width / 2 - r, device.height * 0.2 + r, device.width / 2 + r, device.height * 0.8 - r, 200 + r);
    log("等候3s");
    sleep(3000);
    id("mine_card_content_item_name_tv").className("android.widget.TextView").text("红包").findOne().parent().parent().click();
    log("等候5s");
    sleep(5000);
    swipe(device.width / 2 - r, device.height * 0.6 + r, device.width / 2 + r, device.height * 0.2 - r, 200 + r);
    log("等候5s");
    sleep(5000);
    swipe(device.width / 2 - r, device.height * 0.6 + r, device.width / 2 + r, device.height * 0.2 - r, 200 + r);
    log("等候3s");
    sleep(3000);
    back();
    sleep(1500);
    back();
    sleep(1500);
    console.clear();
}
